class WebToApp{constructor(e,o,a){try{var r={filename:o,fileContent:this.arrayBufferToBase64(e)};window.webkit.messageHandlers.webToApp.postMessage(r)}catch(r){console.log("WEBTOAPP_FILENAME="+o);var n=new Blob([e],{type:a}),t=window.URL.createObjectURL(n);this.download_URL(t,o)}}download_URL(e,o){var a;(a=document.createElement("a")).href=e,a.download=o,document.body.appendChild(a),a.style="display: none",a.click(),a.remove()}arrayBufferToBase64(e){for(var o="",a=new Uint8Array(e),r=a.byteLength,n=0;n<r;n++)o+=String.fromCharCode(a[n]);return window.btoa(o)}}